"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[77],{5077:(w,g,s)=>{s.r(g),s.d(g,{ServiciosimpresionesModule:()=>P});var r=s(8583),c=s(4655),l=s(5319),m=s(9765),d=s(6782);var i=s(7716),p=s(5842),v=s(8060),h=s(9344),f=s(6627);function Z(t,o){1&t&&i._UZ(0,"img",22),2&t&&i.Q6J("src",o.$implicit,i.LSH)}function b(t,o){if(1&t){const e=i.EpF();i.TgZ(0,"div",15),i.TgZ(1,"div",5),i.TgZ(2,"div",6),i.TgZ(3,"div",7),i.TgZ(4,"div",8),i.TgZ(5,"h3",16),i._uU(6," Imagenes seleccionadas "),i.qZA(),i.TgZ(7,"a",17),i.NdJ("click",function(){return i.CHM(e),i.oxw().downloadRar()}),i.TgZ(8,"mat-icon",18),i._uU(9,"file_download"),i.qZA(),i.TgZ(10,"p",19),i._uU(11,"Descarga aqui"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",13),i.TgZ(13,"div",2),i.TgZ(14,"div",20),i.YNc(15,Z,1,1,"img",21),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const e=i.oxw();i.xp6(15),i.Q6J("ngForOf",e.imagesHtml)}}function x(t,o){if(1&t&&(i.TgZ(0,"h3",16),i._uU(1),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.Oqu(e.servicio.paquete_nombre)}}function _(t,o){if(1&t){const e=i.EpF();i.TgZ(0,"button",23),i.NdJ("click",function(){return i.CHM(e),i.oxw().finalizarServicio()}),i._uU(1,"Finalizar servicio"),i.qZA()}}function C(t,o){if(1&t&&(i.TgZ(0,"h3"),i._uU(1),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.Oqu(e.servicio.estatus_nombre)}}function T(t,o){if(1&t&&(i.TgZ(0,"div",24),i.TgZ(1,"div",25),i.TgZ(2,"mat-icon"),i._uU(3,"face"),i.qZA(),i._uU(4," Nombre del cliente : "),i.qZA(),i.TgZ(5,"div",26),i._uU(6),i.qZA(),i.qZA()),2&t){const e=i.oxw();i.xp6(6),i.hij(" ",e.servicio.nombre_cliente," ")}}function S(t,o){if(1&t&&(i.TgZ(0,"div",24),i.TgZ(1,"div",25),i.TgZ(2,"mat-icon"),i._uU(3,"image"),i.qZA(),i._uU(4," Total de imagenes : "),i.qZA(),i.TgZ(5,"div",26),i._uU(6),i.qZA(),i.qZA()),2&t){const e=i.oxw();i.xp6(6),i.hij(" ",e.imagesHtml.length," ")}}function A(t,o){if(1&t&&(i.TgZ(0,"div",24),i.TgZ(1,"div",25),i.TgZ(2,"mat-icon"),i._uU(3,"credit_card"),i.qZA(),i._uU(4," El total es : "),i.qZA(),i.TgZ(5,"div",26),i._uU(6),i.qZA(),i.qZA()),2&t){const e=i.oxw();i.xp6(6),i.hij(" ",e.servicio.total," ")}}const M=s(9457),O=[{path:"",component:(()=>{class t{constructor(e,n,a,U){this.rutaActiva=e,this.recepcionistaService=n,this.authService=a,this.toastr=U,this.url="http://64.225.30.45/backend",this.mostrarBotonFinalizar=!1,this.subscription=new l.w,this.id="",this.images=[],this.imagesHtml=[],this.destroy$=new m.xQ,this.user=null}ngOnDestroy(){this.subscription.unsubscribe(),this.destroy$.next({}),this.destroy$.complete()}ngOnInit(){this.getUser(),this.id=this.rutaActiva.snapshot.params.id,this.getServicio(),this.subscription.add(this.recepcionistaService.getImagesImpresion(this.id).subscribe(e=>{e.forEach(n=>{this.imagesHtml.push(this.url+n.url_imagen)}),this.archivoRar=e.url_rar}))}getServicio(){this.subscription.add(this.recepcionistaService.getServicioImpresion(this.id).subscribe(e=>{console.log(e),this.servicio=e}))}getUser(){this.user=this.authService.getUser(),null==this.user&&this.subscription.add(this.authService.user$.pipe((0,d.R)(this.destroy$)).subscribe(e=>{e&&(this.user=e)}))}finalizarServicio(){this.recepcionistaService.changeStatusServicioSesion(this.id).subscribe(e=>{this.getServicio(),this.toastr.success("Se ha cambiado el estado del servicio exitosamente","Estado cambiado",{positionClass:"toast-bottom-right"})})}downloadRar(){M.saveAs(this.url+this.servicio.url_rar,this.servicio.nombre_cliente+"-"+this.servicio.paquete_nombre)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(c.gz),i.Y36(p.i),i.Y36(v.e),i.Y36(h._W))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-serviciosimpresiones"]],decls:18,vars:11,consts:[[1,"main-content"],[1,"container","mt-4"],[1,"row"],["class","col-xl-4 order-xl-1",4,"ngIf"],[1,"m-auto","order-xl-1"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-12","header"],["class","mb-0",4,"ngIf"],[1,"container-status"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"card-body"],["class","row mt-3",4,"ngIf"],[1,"col-xl-4","order-xl-1"],[1,"mb-0"],["href","javascript:void(0)",1,"float-right",2,"cursor","pointer",3,"click"],[1,"align-middle"],[1,"align-middle","d-inline"],[1,"col-lg-12"],["class","img-form","style","margin: 3px;",3,"src",4,"ngFor","ngForOf"],[1,"img-form",2,"margin","3px",3,"src"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","mt-3"],[1,"col-lg-6"],[1,"col-lg-6","text-right"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.YNc(3,b,16,1,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6),i.TgZ(7,"div",7),i.TgZ(8,"div",8),i.YNc(9,x,2,1,"h3",9),i.TgZ(10,"div",10),i.YNc(11,_,2,0,"button",11),i.YNc(12,C,2,1,"h3",12),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",13),i.YNc(14,T,7,1,"div",14),i.YNc(15,S,7,1,"div",14),i._UZ(16,"hr"),i.YNc(17,A,7,1,"div",14),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.Q6J("ngIf",0!=n.imagesHtml.length),i.xp6(1),i.ekj("col-xl-7",0!=n.imagesHtml.length)("col-xl-8",0==n.imagesHtml.length),i.xp6(5),i.Q6J("ngIf",null!=n.servicio),i.xp6(2),i.Q6J("ngIf",null!=n.servicio&&5==n.servicio.estatus_id),i.xp6(1),i.Q6J("ngIf",null!=n.servicio),i.xp6(2),i.Q6J("ngIf",null!=n.servicio),i.xp6(1),i.Q6J("ngIf",null!=n.servicio),i.xp6(2),i.Q6J("ngIf",null!=n.servicio))},directives:[r.O5,f.Hw,r.sg],styles:[".card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;border:1px solid rgba(0,0,0,.05);border-radius:.375rem;background-color:#fff;background-clip:border-box}.card[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.card-body[_ngcontent-%COMP%]{padding:1.5rem;flex:1 1 auto}.bg-secondary[_ngcontent-%COMP%]{background-color:#f7fafc!important}a.bg-secondary[_ngcontent-%COMP%]:hover, a.bg-secondary[_ngcontent-%COMP%]:focus, button.bg-secondary[_ngcontent-%COMP%]:hover, button.bg-secondary[_ngcontent-%COMP%]:focus{background-color:#d2e3ee!important}.mt-4[_ngcontent-%COMP%]{margin-top:4rem!important}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.5rem}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-family:inherit;font-weight:600;line-height:1.5;margin-bottom:.5rem;color:#32325d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:1.25rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:1.0625rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.img-form[_ngcontent-%COMP%]{height:50px;max-width:400px}.container-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.container-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.container-status[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}"]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[c.Bz.forChild(O)],c.Bz]}),t})();var q=s(9731);let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[r.ez,y,q.q]]}),t})()}}]);