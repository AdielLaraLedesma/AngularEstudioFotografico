"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[867],{7867:(x,l,i)=>{i.r(l),i.d(l,{EditmarcoModule:()=>y});var h=i(8583),g=i(4655),e=i(3679),v=i(5319),t=i(7716),f=i(1645),M=i(8060),Z=i(9344),p=i(8295),b=i(9983),C=i(1095);function O(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.hij(" ",o.getErrorMessage("nombre")," ")}}function P(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.hij(" ",o.getErrorMessage("precio")," ")}}const T=[{path:"",component:(()=>{class r{constructor(o,n,c,d,m){this.marcoService=o,this.rutaActiva=n,this.authService=c,this.router=d,this.toastr=m,this.id="",this.user=null,this.subscription=new v.w,this.editarMarcoForm=new e.cw({nombre:new e.NI("",[e.kI.required,e.kI.maxLength(20),e.kI.minLength(1)]),precio:new e.NI(0,[e.kI.required,e.kI.min(1)]),usuario_registro_id:new e.NI(0,[e.kI.required]),usuario_modificacion_id:new e.NI(0,[e.kI.required])})}ngOnInit(){this.getUsuario(),this.id=this.rutaActiva.snapshot.params.id,this.subscription.add(this.marcoService.getMarco(this.id).subscribe(o=>{o?(this.editarMarcoForm.controls.nombre.setValue(o.nombre),this.editarMarcoForm.controls.precio.setValue(o.precio),this.editarMarcoForm.controls.usuario_registro_id.setValue(o.usuario_registro_id),this.editarMarcoForm.controls.usuario_modificacion_id.setValue(this.user.id)):this.router.navigateByUrl("/marcos")}))}ngOnDestroy(){this.subscription.unsubscribe()}getUsuario(){this.user=this.authService.getUser()}editarMarco(){this.marcoService.updateMarco(this.id,this.editarMarcoForm.value).subscribe(n=>{n&&(this.toastr.success("El marco fue actualizado exitosamente","Marco actualizado",{positionClass:"toast-bottom-right"}),this.router.navigate(["/marcos"]))})}getErrorMessage(o){var n,c,d,m,u;let s="";return(null===(c=null===(n=this.editarMarcoForm.get(o))||void 0===n?void 0:n.errors)||void 0===c?void 0:c.required)?s="El campo no puede estar vacio":(null===(d=this.editarMarcoForm.get(o))||void 0===d?void 0:d.hasError("maxlength"))?s="El campo sobrepasa el tama\xf1o permitido":(null===(m=this.editarMarcoForm.get(o))||void 0===m?void 0:m.hasError("minlength"))?s="El campo no alcanza el minimo permitido":(null===(u=this.editarMarcoForm.get(o))||void 0===u?void 0:u.hasError("min"))&&(s="No es un precio valido"),s}isValidField(o){let n=this.editarMarcoForm.get(o);return(null==n?void 0:n.touched)||(null==n?void 0:n.dirty)&&!(null==n?void 0:n.valid)}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(f.T),t.Y36(g.gz),t.Y36(M.e),t.Y36(g.F0),t.Y36(Z._W))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-editmarco"]],decls:28,vars:4,consts:[[1,"main-content"],[1,"container","mt-3"],[1,"row"],[1,"col-xl-12","m-auto"],[1,"card","bg-secondary","shadow","m-auto"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-12"],[1,"mb-0"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"pl-lg-4"],[1,"col-lg-12"],[1,"form-group","focused"],[1,"full-width-input"],["matInput","","formControlName","nombre","type","text","placeholder","Nombre del marco",1,"form-control"],[4,"ngIf"],["matInput","","formControlName","precio","type","number","placeholder","Precio",1,"form-control"],["mat-raised-button","","type","submit","color","primary",1,"mt-4",3,"disabled"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"div",7),t.TgZ(8,"h3",8),t._uU(9,"Editar marco"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",9),t.TgZ(11,"form",10),t.NdJ("ngSubmit",function(){return n.editarMarco()}),t.TgZ(12,"div",11),t.TgZ(13,"div",2),t.TgZ(14,"div",12),t.TgZ(15,"div",13),t.TgZ(16,"mat-form-field",14),t._UZ(17,"input",15),t.YNc(18,O,2,1,"mat-error",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",2),t.TgZ(20,"div",12),t.TgZ(21,"div",13),t.TgZ(22,"mat-form-field",14),t._UZ(23,"input",17),t.YNc(24,P,2,1,"mat-error",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",2),t.TgZ(26,"button",18),t._uU(27,"Editar marco"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(11),t.Q6J("formGroup",n.editarMarcoForm),t.xp6(7),t.Q6J("ngIf",n.isValidField("nombre")),t.xp6(6),t.Q6J("ngIf",n.isValidField("precio")),t.xp6(2),t.Q6J("disabled",n.editarMarcoForm.invalid))},directives:[e._Y,e.JL,e.sg,p.KE,b.Nt,e.Fj,e.JJ,e.u,h.O5,e.wV,C.lW,p.TO],styles:[".edit-form[_ngcontent-%COMP%]{padding:4rem 1rem}mat-card[_ngcontent-%COMP%]{max-width:300px;margin:2rem auto;text-align:center;height:200px}.full-width-input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%}.separator[_ngcontent-%COMP%]{margin-bottom:2rem}.card[_ngcontent-%COMP%]{text-align:center;width:40%!important}.ventana[_ngcontent-%COMP%]{width:70%}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;border:1px solid rgba(0,0,0,.05);border-radius:.375rem;background-color:#fff;background-clip:border-box}.card[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.card-body[_ngcontent-%COMP%]{padding:1.5rem;flex:1 1 auto}.bg-secondary[_ngcontent-%COMP%]{background-color:#f7fafc!important}a.bg-secondary[_ngcontent-%COMP%]:hover, a.bg-secondary[_ngcontent-%COMP%]:focus, button.bg-secondary[_ngcontent-%COMP%]:hover, button.bg-secondary[_ngcontent-%COMP%]:focus{background-color:#d2e3ee!important}.mt-7[_ngcontent-%COMP%]{margin-top:6rem!important}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.5rem}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-family:inherit;font-weight:600;line-height:1.5;margin-bottom:.5rem;color:#32325d}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:1.25rem}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:1.0625rem}"]}),r})()}];let A=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[g.Bz.forChild(T)],g.Bz]}),r})();var E=i(9731);let y=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[h.ez,A,E.q,e.u5,e.UX]]}),r})()}}]);